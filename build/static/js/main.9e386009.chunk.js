(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{13:function(e,t,s){},14:function(e,t,s){"use strict";s.r(t);var n=s(0),o=s.n(n),a=s(3),i=s.n(a),r=(s(13),s(1)),c=s(4),d=s(5),l=s(7),u=s(6),h=function(e){return o.a.createElement("div",null,e.snakeBody.map((function(e,t,s){var n=t+1===s.length,a={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return o.a.createElement("div",{className:n?"snake-dot head":"snake-dot",key:t,style:a})})))},f=function(e){var t={left:"".concat(e.dot[0],"%"),top:"".concat(e.dot[1],"%")};return o.a.createElement("div",{className:"snake-food",style:t})},m=function(e){var t={left:"".concat(e.dot[0],"%"),top:"".concat(e.dot[1],"%")};return o.a.createElement("div",{className:"snake-food",id:"interesting-food",style:t})};function p(){return[2*Math.floor((94*Math.random()+1)/2),2*Math.floor((94*Math.random()+1)/2)]}document.body.style.backgroundColor="##75816B";var k={food:p(),interestingFood:p(),isInterestingFoodVisible:!1,interestingFoodType:"",multiplier:2,immune:!1,speed:80,direction:"RIGHT",snakeBody:[[0,0],[2,0]]},v=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state=k,e.onKeyDown=function(t){switch((t=t||window.event).keyCode){case 38:e.setState({direction:"UP"});break;case 40:e.setState({direction:"DOWN"});break;case 37:e.setState({direction:"LEFT"});break;case 39:e.setState({direction:"RIGHT"})}},e.moveSnake=function(){var t=Object(r.a)(e.state.snakeBody),s=t[t.length-1];switch(e.state.direction){case"RIGHT":s=[s[0]+1,s[1]];break;case"LEFT":s=[s[0]-1,s[1]];break;case"DOWN":s=[s[0],s[1]+1];break;case"UP":s=[s[0],s[1]-1]}t.push(s),t.shift(),e.setState({snakeBody:t})},e.removeImmune=function(){e.setState({immune:!1})},e.removeSlow=function(){e.setState({speed:80})},e.removeSuperEffect=function(){document.querySelectorAll(".snake-dot").forEach((function(e){return e.classList.remove("super")})),e.setState({multiplier:2,speed:80})},e.despawnInterestingFood=function(){null!==document.querySelector("#interesting-food")&&e.setState({isInterestingFoodVisible:!1})},e.removeTextPopup=function(){for(var e=document.getElementById("span");e.firstChild;)e.removeChild(e.firstChild)},e}return Object(d.a)(s,[{key:"componentDidMount",value:function(){setInterval(this.moveSnake,this.state.speed),document.onkeydown=this.onKeyDown}},{key:"componentDidUpdate",value:function(e,t){this.collisionWithBorders(),this.collisionWithSelf(),this.checkIfEaten(),this.checkIfEatenInterestingFood(e,t)}},{key:"collisionWithBorders",value:function(){var e=this.state.snakeBody[this.state.snakeBody.length-1];(e[0]>=96||e[1]>=96||e[0]<0||e[1]<0)&&this.onGameOver()}},{key:"collisionWithSelf",value:function(){var e=this;if(!this.state.immune){var t=Object(r.a)(this.state.snakeBody),s=t[t.length-1];t.pop(),t.forEach((function(t){s[0]===t[0]&&s[1]===t[1]&&e.onGameOver()}))}}},{key:"checkIfEaten",value:function(){var e=this.state.snakeBody[this.state.snakeBody.length-1],t=this.state.food;Math.abs(e[0]-t[0])<=1&&Math.abs(e[1]-t[1])<=1&&(this.setState({food:p()}),this.createTextPopup("+ "+this.state.multiplier+" score"),this.increaseSnake(this.state.multiplier),this.increaseSpeed())}},{key:"checkIfEatenInterestingFood",value:function(e,t){var s=this.state.interestingFood,n=this.state.snakeBody[this.state.snakeBody.length-1];if(this.state.isInterestingFoodVisible&&Math.abs(n[0]-s[0])<=1&&Math.abs(n[1]-s[1])<=1)switch(this.state.interestingFoodType){case"mystery-food":switch(["add-score","minus-score","immune","slow"][Math.floor(4*Math.random())]){case"add-score":this.increaseSnake(2*this.state.multiplier),this.createTextPopup("Positive growth effect (10 seconds)!");break;case"minus-score":this.decreaseSnake(2*this.state.multiplier),this.createTextPopup("Negative growth effect (10 seconds)!");break;case"immune":this.setImmune(e,t),this.createTextPopup("Immune to self collision status (10 seconds)!");break;case"slow":this.setSlow(e,t),this.createTextPopup("Slowed effect (10 seconds)!")}break;case"super-food":this.setSuperEffect(t),this.createTextPopup("Food gives 6 points and extra speed (10 seconds)!")}}},{key:"setImmune",value:function(e){var t=this;!0!==e.immune&&this.setState({immune:!0,isInterestingFoodVisible:!1},(function(){setTimeout(t.removeImmune,1e4)}))}},{key:"setSlow",value:function(e){var t=this;500!==e.speed&&this.setState({speed:500,isInterestingFoodVisible:!1},(function(){setTimeout(t.removeSlow,1e4)}))}},{key:"setSuperEffect",value:function(e){var t=this;6!==e.multiplier&&0!==e.speed&&(document.querySelectorAll(".snake-dot").forEach((function(e){return e.classList.add("super")})),this.setState({multiplier:6,speed:0,isInterestingFoodVisible:!1},(function(){setTimeout(t.removeSuperEffect,1e4)})))}},{key:"increaseSnake",value:function(e){for(var t=this,s=Object(r.a)(this.state.snakeBody),n=0;n<e;n++)s.unshift([]);this.setState({snakeBody:s},(function(){t.checkLevelUp()}))}},{key:"decreaseSnake",value:function(e){var t=this;if(this.state.snakeBody.length>e+1){for(var s=Object(r.a)(this.state.snakeBody),n=0;n<e;n++)s.unshift([]);this.setState({snakeBody:s},(function(){var e=Math.ceil(t.state.snakeBody.length/5);[5,10,15,20,25,30].includes(t.state.snakeBody.length)&&t.createTextPopup("Level Up! - "+e),t.checkLevelUp()}))}}},{key:"checkLevelUp",value:function(){Math.ceil(this.state.snakeBody.length/5)%10===0&&this.createTextPopup("Boss Battle - todo"),this.state.snakeBody.length%4===0&&this.spawnInterestingFood()}},{key:"spawnInterestingFood",value:function(){var e=this,t=["super-food","mystery-food"][Math.floor(2*Math.random())];document.querySelectorAll("#interesting-food").forEach((function(e){return e.classList.remove("super-food")})),document.querySelectorAll("#interesting-food").forEach((function(e){return e.remove("mystery-food")})),this.setState({isInterestingFoodVisible:!0,interestingFood:p(),interestingFoodType:t},(function(){document.querySelectorAll("#interesting-food").forEach((function(e){return e.classList.add(t)})),setTimeout(e.despawnInterestingFood,1e4)}))}},{key:"increaseSpeed",value:function(){this.state.speed>10&&this.setState({speed:this.state.speed-10})}},{key:"onGameOver",value:function(){alert("Game Over. Your final score is : ".concat(this.state.snakeBody.length,"!")),this.setState(k)}},{key:"createTextPopup",value:function(e){var t=document.createTextNode(e);document.getElementById("span").appendChild(t),setTimeout(this.removeTextPopup,1500)}},{key:"render",value:function(){return o.a.createElement("div",{id:"grid",className:"grid"},o.a.createElement("p",{className:"textScore"},"Score : ",this.state.snakeBody.length),o.a.createElement("p",{className:"textScore"},"Level : ",Math.ceil(this.state.snakeBody.length/5)),o.a.createElement("div",{id:"scoreUpdates"},o.a.createElement("span",{id:"span"})),o.a.createElement(h,{snakeBody:this.state.snakeBody}),o.a.createElement(f,{dot:this.state.food}),this.state.isInterestingFoodVisible?o.a.createElement(m,{dot:this.state.interestingFood}):null)}}]),s}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,s){e.exports=s(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.9e386009.chunk.js.map